<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Dawid Trojanowski — Rebuilt (Bajery v2)</title>

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap"
      rel="stylesheet"
    />

    <!-- External libs (lightweight) -->
    <script src="https://unpkg.com/three@0.158.0/build/three.min.js"></script>

    <style>
      :root {
        --accent: #9b5cf6;
        --accent2: #f472b6;
      }
      html,
      body {
        font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto,
          "Helvetica Neue", Arial;
      }
      body {
        background: linear-gradient(180deg, #07040a 0%, #0b0720 100%);
        color: #e6e6f0;
      }
      /* center container */
      .container {
        max-width: 1100px;
        margin: 0 auto;
      }

      /* neon heading */
      .neon {
        text-shadow: 0 0 8px rgba(155, 92, 246, 0.6),
          0 0 24px rgba(244, 114, 182, 0.12);
      }

      /* flashy cursor */
      .cursor-follower {
        position: fixed;
        top: 0;
        left: 0;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        pointer-events: none;
        transform: translate(-50%, -50%);
        z-index: 60;
        mix-blend-mode: screen;
      }
      .cursor-follower.small {
        width: 8px;
        height: 8px;
        background: rgba(255, 255, 255, 0.85);
      }
      .cursor-follower.big {
        width: 56px;
        height: 56px;
        background: radial-gradient(
          circle,
          rgba(155, 92, 246, 0.12),
          transparent 40%
        );
      }

      /* glass cards */
      .glass {
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.02),
          rgba(255, 255, 255, 0.01)
        );
        backdrop-filter: blur(8px);
        border: 1px solid rgba(255, 255, 255, 0.04);
      }

      /* tilt */
      .tilt {
        transition: transform 0.18s ease-out;
      }

      /* floating blobs */
      .blob {
        position: absolute;
        filter: blur(36px);
        opacity: 0.7;
        mix-blend-mode: screen;
      }

      /* section reveal */
      .reveal {
        opacity: 0;
        transform: translateY(18px);
        transition: opacity 0.6s ease, transform 0.6s ease;
      }
      .reveal.visible {
        opacity: 1;
        transform: none;
      }

      /* skill bars */
      .skill-bar {
        height: 12px;
        background: rgba(255, 255, 255, 0.06);
        border-radius: 999px;
      }
      .skill-fill {
        height: 100%;
        border-radius: 999px;
        transition: width 1.1s cubic-bezier(0.2, 0.9, 0.2, 1);
      }

      /* responsive tweaks */
      @media (max-width: 768px) {
        .desktop-only {
          display: none;
        }
      }
    </style>
  </head>
  <body>
    <!-- fancy background canvas (three.js) -->
    <canvas
      id="three-bg"
      style="position: fixed; inset: 0; z-index: 0; pointer-events: none"
    ></canvas>

    <!-- cursor followers -->
    <div id="cursor-big" class="cursor-follower big"></div>
    <div id="cursor-small" class="cursor-follower small"></div>

    <header class="container px-6 py-6 relative z-30">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div
            class="w-12 h-12 rounded-xl bg-gradient-to-br from-purple-600 to-pink-500 flex items-center justify-center shadow-xl"
          >
            <svg width="26" height="26" viewBox="0 0 24 24" fill="none">
              <path
                d="M12 12c2.761 0 5-2.239 5-5s-2.239-5-5-5-5 2.239-5 5 2.239 5 5 5zM4 20a8 8 0 0116 0"
                stroke="white"
                stroke-width="1.2"
                stroke-linecap="round"
                stroke-linejoin="round"
              ></path>
            </svg>
          </div>
          <div>
            <h1 class="text-lg font-bold neon">
              Dawid <span class="text-gradient">Trojanowski</span>
            </h1>
            <p class="text-xs text-slate-400">Cloud • ERP • Production • CNC</p>
          </div>
        </div>

        <nav class="hidden md:flex items-center gap-4 text-sm">
          <a
            href="#hero"
            class="py-2 px-3 rounded-md hover:bg-white/5 transition"
            >Start</a
          >
          <a
            href="#skills"
            class="py-2 px-3 rounded-md hover:bg-white/5 transition"
            >Umiejętności</a
          >
          <a
            href="#projects"
            class="py-2 px-3 rounded-md hover:bg-white/5 transition"
            >Projekty</a
          >
          <a
            href="#contact"
            class="py-2 px-3 rounded-md hover:bg-white/5 transition"
            >Kontakt</a
          >
        </nav>

        <div class="flex items-center gap-3">
          <a
            href="#contact"
            class="px-4 py-2 rounded-md bg-gradient-to-r from-purple-600 to-pink-500 shadow hover:scale-105 transition-transform desktop-only"
            >Napisz</a
          >
          <button
            id="mobile-toggle"
            class="md:hidden p-2 bg-white/6 rounded-md"
          >
            ≡
          </button>
        </div>
      </div>
    </header>

    <main class="container px-6 relative z-30">
      <section id="hero" class="grid md:grid-cols-2 gap-8 items-center py-12">
        <div>
          <h2 class="text-4xl font-extrabold neon">
            Cześć — jestem
            <span
              class="text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400"
              >Dawid</span
            >
          </h2>
          <p class="mt-4 text-slate-300 leading-relaxed">
            Specjalizuję się w rozwiązaniach chmurowych z wysoką dostępnością,
            systemach ERP/SaaS oraz aplikacjach produkcyjnych (CNC, EDI). Tworzę
            infrastrukturę, która działa kiedy najbardziej jej potrzebujesz.
          </p>

          <div class="mt-6 flex gap-3">
            <a
              id="magnetic-1"
              class="magnetic px-4 py-2 rounded-md bg-gradient-to-r from-purple-600 to-pink-500 shadow hover:scale-105 transition-transform"
              >Kontakt</a
            >
            <a
              id="magnetic-2"
              class="magnetic px-4 py-2 rounded-md border border-white/10"
              >Pobierz CV</a
            >
          </div>

          <div class="mt-8 grid grid-cols-2 gap-3 text-xs text-slate-400">
            <div class="glass p-3 rounded-lg tilt" data-tilt>
              <div class="font-semibold">Email</div>
              <div id="show-email">trojanowski.david@gmail.com</div>
            </div>
            <div class="glass p-3 rounded-lg tilt" data-tilt>
              <div class="font-semibold">Telefon</div>
              <div id="show-phone">+48 508 066 905</div>
            </div>
          </div>
        </div>

        <div class="relative">
          <div class="glass rounded-2xl p-6 shadow-2xl">
            <div class="typewriter text-lg font-medium">
              Cloud HA · ProxMox · K8e · Ceph · ERP · CNC · EDI
            </div>

            <div class="mt-6 grid grid-cols-1 gap-4">
              <div class="text-sm text-slate-300">Wybrane:</div>
              <ul class="list-disc pl-5 text-slate-300">
                <li>High-Availability: ProxMox, Ceph, LVS</li>
                <li>SaaS / ERP integracje, BI, ESB (wso2)</li>
                <li>Systemy produkcyjne: Firebird, FastReport, CNC</li>
              </ul>
            </div>

            <div class="mt-4 flex gap-2">
              <a id="cv" class="px-3 py-2 rounded-md bg-white/6">CV</a>
              <a
                id="portfolio"
                class="px-3 py-2 rounded-md border border-white/10"
                >Portfolio</a
              >
            </div>
          </div>

          <!-- floating decorative blob -->
          <div
            class="blob"
            style="
              right: -40px;
              bottom: -40px;
              width: 260px;
              height: 260px;
              background: linear-gradient(
                135deg,
                var(--accent),
                var(--accent2)
              );
              opacity: 0.12;
              border-radius: 40%;
            "
          ></div>
        </div>
      </section>

      <section id="skills" class="py-12">
        <h3 class="text-2xl font-bold reveal">Umiejętności i technologie</h3>
        <div class="mt-6 grid md:grid-cols-2 gap-6">
          <div class="glass p-6 rounded-xl reveal">
            <h4 class="font-semibold">Techniczne</h4>
            <div class="mt-4 space-y-4">
              <div>
                <div class="flex justify-between text-sm text-slate-300 mb-2">
                  <span>Python</span><span>90%</span>
                </div>
                <div class="skill-bar">
                  <div
                    class="skill-fill"
                    data-width="90%"
                    style="
                      width: 0;
                      background: linear-gradient(
                        90deg,
                        var(--accent),
                        var(--accent2)
                      );
                    "
                  ></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between text-sm text-slate-300 mb-2">
                  <span>JavaScript</span><span>85%</span>
                </div>
                <div class="skill-bar">
                  <div
                    class="skill-fill"
                    data-width="85%"
                    style="
                      width: 0;
                      background: linear-gradient(90deg, #60a5fa, #7c3aed);
                    "
                  ></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between text-sm text-slate-300 mb-2">
                  <span>React</span><span>80%</span>
                </div>
                <div class="skill-bar">
                  <div
                    class="skill-fill"
                    data-width="80%"
                    style="
                      width: 0;
                      background: linear-gradient(90deg, #34d399, #f97316);
                    "
                  ></div>
                </div>
              </div>
            </div>
          </div>

          <div class="glass p-6 rounded-xl reveal">
            <h4 class="font-semibold">Języki</h4>
            <div class="mt-4 space-y-4">
              <div>
                <div class="flex justify-between text-sm text-slate-300 mb-2">
                  <span>Polski</span><span>100%</span>
                </div>
                <div class="skill-bar">
                  <div
                    class="skill-fill"
                    data-width="100%"
                    style="
                      width: 0;
                      background: linear-gradient(90deg, #f472b6, #facc15);
                    "
                  ></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between text-sm text-slate-300 mb-2">
                  <span>Angielski</span><span>85%</span>
                </div>
                <div class="skill-bar">
                  <div
                    class="skill-fill"
                    data-width="85%"
                    style="
                      width: 0;
                      background: linear-gradient(90deg, #8b5cf6, #06b6d4);
                    "
                  ></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="projects" class="py-12">
        <h3 class="text-2xl font-bold reveal">Wybrane projekty</h3>
        <div class="mt-6 grid md:grid-cols-3 gap-6">
          <article class="glass p-4 rounded-lg tilt reveal" data-tilt>
            <h4 class="font-semibold">Infrastruktura HA dla produkcji</h4>
            <p class="text-sm text-slate-300 mt-2">
              Migracja do ProxMox + Ceph, automatyzacja Ansible, backup i DR.
            </p>
          </article>
          <article class="glass p-4 rounded-lg tilt reveal" data-tilt>
            <h4 class="font-semibold">Integracja ERP – EDI</h4>
            <p class="text-sm text-slate-300 mt-2">
              Integracja systemów produkcyjnych z hurtownią danych i EDI.
            </p>
          </article>
          <article class="glass p-4 rounded-lg tilt reveal" data-tilt>
            <h4 class="font-semibold">Aplikacja desktop (Firebird)</h4>
            <p class="text-sm text-slate-300 mt-2">
              System raportowania i generowania dokumentów produkcyjnych.
            </p>
          </article>
        </div>
      </section>

      <section id="contact" class="py-12">
        <h3 class="text-2xl font-bold reveal">Kontakt</h3>
        <div class="mt-6 grid md:grid-cols-2 gap-6">
          <div class="glass p-6 rounded-xl reveal">
            <p class="text-slate-300">Masz projekt? Chętnie pomogę.</p>
            <div class="mt-4">
              <div class="text-xs text-slate-400">Email</div>
              <a
                href="mailto:trojanowski.david@gmail.com"
                class="block font-medium"
                >trojanowski.david@gmail.com</a
              >
              <div class="text-xs text-slate-400 mt-2">Telefon</div>
              <a href="tel:+48508066905" class="block font-medium"
                >+48 508 066 905</a
              >
              <div class="mt-6 flex gap-2">
                <button
                  id="download-vcard"
                  class="px-3 py-2 rounded-md bg-gradient-to-r from-purple-600 to-pink-500"
                >
                  Pobierz vCard
                </button>
                <button
                  id="download-cv"
                  class="px-3 py-2 rounded-md border border-white/10"
                >
                  Pobierz CV
                </button>
              </div>
            </div>
          </div>

          <form
            id="contact-form"
            class="glass p-6 rounded-xl reveal"
            onsubmit="return false;"
          >
            <label class="text-xs text-slate-400">Twój email</label>
            <input
              id="cf-email"
              type="email"
              required
              class="w-full mt-2 p-3 rounded-md bg-transparent border border-white/10"
              placeholder="twoj@email.com"
            />
            <label class="text-xs text-slate-400 mt-4 block">Wiadomość</label>
            <textarea
              id="cf-message"
              rows="5"
              class="w-full mt-2 p-3 rounded-md bg-transparent border border-white/10"
              placeholder="Opisz swój projekt..."
            ></textarea>
            <div class="mt-4 flex gap-3">
              <button
                id="cf-send"
                class="px-4 py-2 rounded-md bg-gradient-to-r from-purple-600 to-pink-500"
              >
                Wyślij
              </button>
              <button
                id="cf-download"
                class="px-4 py-2 rounded-md border border-white/10"
              >
                Pobierz wiadomość
              </button>
            </div>
            <div id="cf-msg" class="text-sm text-green-300 mt-3 hidden"></div>
          </form>
        </div>
      </section>

      <footer class="py-8 text-center text-slate-400">
        © Dawid Trojanowski — more sparkle now ✨
      </footer>
    </main>

    <script>
            // --- DATA from your site (kept) ---
            const DATA = {email:'trojanowski.david@gmail.com',phone:'+48 508 066 905',keywords:['Cloud HA','ProxMox','Ceph','ERP','CNC','EDI']};

            // --- Cursor followers ---
            const small = document.getElementById('cursor-small');
            const big = document.getElementById('cursor-big');
            let mx=0,my=0,tx=0,ty=0;
            window.addEventListener('mousemove',e=>{mx=e.clientX;my=e.clientY;small.style.transform=`translate(${mx}px,${my}px)`;});
            // big lags behind
            function lag(){tx += (mx - tx) * 0.08; ty += (my - ty) * 0.08; big.style.transform=`translate(${tx}px,${ty}px)`; requestAnimationFrame(lag);}lag();

            // magnetic buttons
            document.querySelectorAll('.magnetic').forEach(btn=>{btn.addEventListener('mousemove',e=>{const r=btn.getBoundingClientRect();const dx=(e.clientX - (r.left + r.width/2))/8;const dy=(e.clientY - (r.top + r.height/2))/8;btn.style.transform=`translate(${dx}px,${dy}px)`});btn.addEventListener('mouseleave',()=>btn.style.transform='translate(0,0)')});

            // tilt effect (simple) for elements with data-tilt
            document.querySelectorAll('[data-tilt]').forEach(el=>{el.addEventListener('mousemove',e=>{const r=el.getBoundingClientRect();const px=(e.clientX - r.left)/r.width;const py=(e.clientY - r.top)/r.height;const rx=(py-0.5)*8;const ry=(px-0.5)*-8;el.style.transform=`perspective(800px) rotateX(${rx}deg) rotateY(${ry}deg) scale(1.02)`});el.addEventListener('mouseleave',()=>el.style.transform='none')});

            // reveal on scroll
            const reveals = document.querySelectorAll('.reveal');
            const io = new IntersectionObserver((entries)=>{entries.forEach(e=>{if(e.isIntersecting) e.target.classList.add('visible')});},{threshold:.15});
            reveals.forEach(r=>io.observe(r));

            // skill bars animate when visible
            const skillObserver = new IntersectionObserver((entries)=>{entries.forEach(e=>{if(e.isIntersecting){e.target.querySelectorAll('.skill-fill').forEach(f=>f.style.width = f.dataset.width)}})},{threshold:.2});
            document.querySelectorAll('#skills, .glass').forEach(n=>skillObserver.observe(n));

            // contact form handlers (download + mailto)
            document.getElementById('cf-send').addEventListener('click', ()=>{
              const email=document.getElementById('cf-email').value.trim(); const msg=document.getElementById('cf-message').value.trim();
              if(!email||!msg){showCf('Wypełnij pola',false);return}
              window.location.href=`mailto:${DATA.email}?subject=${encodeURIComponent('Kontakt ze strony')}&body=${encodeURIComponent(msg+'

      From: '+email)}`;
            });
            document.getElementById('cf-download').addEventListener('click', ()=>{
              const email=document.getElementById('cf-email').value.trim(); const msg=document.getElementById('cf-message').value.trim();
              const blob=new Blob([`From: ${email}
      To: ${DATA.email}
      Subject: Kontakt ze strony

      ${msg}`],{type:'text/plain'}); const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='message.txt'; document.body.appendChild(a); a.click(); a.remove(); showCf('Pobrano',true);
            });
            function showCf(t,ok){const el=document.getElementById('cf-msg');el.textContent=t;el.style.color=ok?'#86efac':'#fca5a5';el.classList.remove('hidden');setTimeout(()=>el.classList.add('hidden'),3000)}

            // vCard
            document.getElementById('download-vcard').addEventListener('click', ()=>{const v=`BEGIN:VCARD
      VERSION:3.0
      FN:Dawid Trojanowski
      TEL;TYPE=CELL:${DATA.phone}
      EMAIL:${DATA.email}
      END:VCARD`; const b=new Blob([v],{type:'text/vcard'}); const a=document.createElement('a');a.href=URL.createObjectURL(b);a.download='dawid_trojanowski.vcf'; document.body.appendChild(a); a.click(); a.remove();});

            // three.js background: floating points
            (function(){
              const canvas = document.getElementById('three-bg');
              const renderer = new THREE.WebGLRenderer({canvas,alpha:true});
              const scene = new THREE.Scene();
              const camera = new THREE.PerspectiveCamera(50, innerWidth/innerHeight, 1, 1000); camera.position.z = 160;
              const geom = new THREE.BufferGeometry();
              const count = 600;
              const pos = new Float32Array(count*3);
              for(let i=0;i<count*3;i+=3){pos[i] = (Math.random()-0.5)*800; pos[i+1] = (Math.random()-0.5)*400; pos[i+2] = (Math.random()-0.5)*200}
              geom.setAttribute('position', new THREE.BufferAttribute(pos,3));
              const mat = new THREE.PointsMaterial({size:3.1,transparent:true,opacity:0.12,color:0xc58bff});
              const pts = new THREE.Points(geom, mat); scene.add(pts);
              const resize = ()=>{renderer.setSize(innerWidth,innerHeight); camera.aspect=innerWidth/innerHeight; camera.updateProjectionMatrix()}; window.addEventListener('resize',resize); resize();
              let t=0; function anim(){t+=0.002; pts.rotation.y = t*0.5; pts.rotation.x = Math.sin(t*0.5)*0.1; renderer.render(scene,camera); requestAnimationFrame(anim)} anim();
            })();

            // polite: stop heavy anims on reduced-motion
            if(matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelectorAll('#three-bg, .cursor-follower').forEach(n=>n.style.display='none')}
    </script>
  </body>
</html>
