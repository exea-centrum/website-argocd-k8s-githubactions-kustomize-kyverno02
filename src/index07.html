<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Dawid Trojanowski — Bajery MAX</title>

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap"
      rel="stylesheet"
    />

    <!-- Libraries: three.js, lottie, jszip, file-saver -->
    <script src="https://unpkg.com/three@0.158.0/build/three.min.js"></script>
    <script src="https://unpkg.com/lottie-web@5.9.6/build/player/lottie.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

    <style>
      :root {
        --bg-1: #07040a;
        --bg-2: #0b0720;
        --card: rgba(255, 255, 255, 0.03);
        --accent: #9b5cf6;
        --accent2: #f472b6;
        --text: #e6e6f0;
      }
      [data-theme="light"] {
        --bg-1: #f8fafc;
        --bg-2: #eef2ff;
        --card: rgba(0, 0, 0, 0.04);
        --text: #0b1220;
      }
      html,
      body {
        font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto,
          "Helvetica Neue", Arial;
        background: linear-gradient(180deg, var(--bg-1), var(--bg-2));
        color: var(--text);
        min-height: 100vh;
      }
      .container {
        max-width: 1100px;
        margin: 0 auto;
      }
      .glass {
        background: var(--card);
        backdrop-filter: blur(8px);
        border: 1px solid rgba(255, 255, 255, 0.03);
      }
      .neon {
        filter: drop-shadow(0 4px 18px rgba(155, 92, 246, 0.35));
      }
      .cursor-follower {
        position: fixed;
        top: 0;
        left: 0;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        pointer-events: none;
        transform: translate(-50%, -50%);
        z-index: 60;
      }
      .cursor-small {
        width: 8px;
        height: 8px;
        background: var(--text);
        opacity: 0.9;
      }
      .cursor-big {
        width: 64px;
        height: 64px;
        border-radius: 50%;
        background: radial-gradient(
          circle,
          rgba(155, 92, 246, 0.12),
          transparent 40%
        );
        opacity: 0.9;
      }
      .magnetic {
        transition: transform 0.12s ease-out;
      }
      .reveal {
        opacity: 0;
        transform: translateY(18px);
        transition: opacity 0.6s ease, transform 0.6s ease;
      }
      .reveal.visible {
        opacity: 1;
        transform: none;
      }
      .skill-bar {
        height: 12px;
        background: rgba(255, 255, 255, 0.06);
        border-radius: 999px;
      }
      .skill-fill {
        height: 100%;
        border-radius: 999px;
        transition: width 1.1s cubic-bezier(0.2, 0.9, 0.2, 1);
      }
      #three-bg {
        position: fixed;
        inset: 0;
        z-index: 0;
        pointer-events: none;
      }
      .lottie-wrap {
        width: 140px;
        height: 140px;
      }
      .btn {
        padding: 0.6rem 1rem;
        border-radius: 0.6rem;
      }
      .toggle {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
      }
      @media (max-width: 768px) {
        .desktop-only {
          display: none;
        }
      }
    </style>
  </head>
  <body data-theme="dark">
    <!-- Three.js background canvas -->
    <canvas id="three-bg"></canvas>

    <!-- Cursor followers -->
    <div id="cursor-big" class="cursor-follower cursor-big"></div>
    <div id="cursor-small" class="cursor-follower cursor-small"></div>

    <header class="container px-6 py-6 relative z-30">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div
            class="w-12 h-12 rounded-xl bg-gradient-to-br from-purple-600 to-pink-500 flex items-center justify-center shadow-xl"
          >
            <svg width="26" height="26" viewBox="0 0 24 24" fill="none">
              <path
                d="M12 12c2.761 0 5-2.239 5-5s-2.239-5-5-5-5 2.239-5 5 2.239 5 5 5zM4 20a8 8 0 0116 0"
                stroke="white"
                stroke-width="1.2"
                stroke-linecap="round"
                stroke-linejoin="round"
              ></path>
            </svg>
          </div>
          <div>
            <h1 class="text-lg font-bold neon">
              Dawid <span class="text-gradient">Trojanowski</span>
            </h1>
            <p class="text-xs text-slate-400">Cloud • ERP • Production • CNC</p>
          </div>
        </div>

        <div class="flex items-center gap-4">
          <div class="toggle glass px-3 py-2 rounded-md">
            <label for="theme-toggle" class="text-xs">Motyw</label>
            <button id="theme-toggle" class="ml-2 btn bg-white/6">
              Toggle
            </button>
          </div>

          <button
            id="download-zip"
            class="btn glass bg-gradient-to-r from-purple-600 to-pink-500 text-sm"
          >
            Pobierz ZIP
          </button>
        </div>
      </div>
    </header>

    <main class="container px-6 relative z-30">
      <section id="hero" class="grid md:grid-cols-2 gap-8 items-center py-12">
        <div>
          <h2 class="text-4xl font-extrabold neon">
            Cześć — jestem
            <span
              class="text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400"
              >Dawid</span
            >
          </h2>
          <p class="mt-4 text-slate-300 leading-relaxed">
            Specjalizuję się w infrastrukturze o wysokiej dostępności, systemach
            ERP/SaaS oraz aplikacjach produkcyjnych. Robię to z dbałością o
            niezawodność.
          </p>

          <div class="mt-6 flex gap-3">
            <a
              id="contact-btn"
              class="magnetic btn bg-gradient-to-r from-purple-600 to-pink-500 shadow"
              >Kontakt</a
            >
            <a id="cv-btn" class="magnetic btn glass border">Pobierz CV</a>
          </div>

          <div class="mt-8 grid grid-cols-2 gap-3 text-xs text-slate-400">
            <div class="glass p-3 rounded-lg">
              <div class="font-semibold">Email</div>
              <div id="show-email">trojanowski.david@gmail.com</div>
            </div>
            <div class="glass p-3 rounded-lg">
              <div class="font-semibold">Telefon</div>
              <div id="show-phone">+48 508 066 905</div>
            </div>
          </div>
        </div>

        <div class="relative">
          <div class="glass rounded-2xl p-6 shadow-2xl">
            <div class="typewriter text-lg font-medium">
              Cloud HA · ProxMox · K8e · Ceph · ERP · CNC · EDI
            </div>

            <div class="mt-6 flex items-center gap-4">
              <div id="lottie-hero" class="lottie-wrap"></div>

              <div>
                <h4 class="font-semibold">Wybrane obszary</h4>
                <ul class="list-disc pl-5 text-slate-300">
                  <li>ProxMox, Ceph, HA</li>
                  <li>SaaS / ERP / BI</li>
                  <li>Systemy produkcyjne i EDI</li>
                </ul>
              </div>
            </div>

            <div class="mt-4 flex gap-2">
              <a id="cv-download" class="px-3 py-2 rounded-md bg-white/6">CV</a>
              <a
                id="portfolio"
                class="px-3 py-2 rounded-md border border-white/10"
                >Portfolio</a
              >
            </div>
          </div>

          <div
            id="three-logo"
            style="
              position: absolute;
              right: -30px;
              bottom: -30px;
              width: 220px;
              height: 220px;
            "
          ></div>
        </div>
      </section>

      <section id="skills" class="py-12">
        <h3 class="text-2xl font-bold reveal">Umiejętności i technologie</h3>
        <div class="mt-6 grid md:grid-cols-2 gap-6">
          <div class="glass p-6 rounded-xl reveal">
            <h4 class="font-semibold">Techniczne</h4>
            <div class="mt-4 space-y-4">
              <div>
                <div class="flex justify-between text-sm text-slate-300 mb-2">
                  <span>Python</span><span>90%</span>
                </div>
                <div class="skill-bar">
                  <div
                    class="skill-fill"
                    data-width="90%"
                    style="
                      width: 0;
                      background: linear-gradient(
                        90deg,
                        var(--accent),
                        var(--accent2)
                      );
                    "
                  ></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between text-sm text-slate-300 mb-2">
                  <span>JavaScript</span><span>85%</span>
                </div>
                <div class="skill-bar">
                  <div
                    class="skill-fill"
                    data-width="85%"
                    style="
                      width: 0;
                      background: linear-gradient(90deg, #60a5fa, #7c3aed);
                    "
                  ></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between text-sm text-slate-300 mb-2">
                  <span>React</span><span>80%</span>
                </div>
                <div class="skill-bar">
                  <div
                    class="skill-fill"
                    data-width="80%"
                    style="
                      width: 0;
                      background: linear-gradient(90deg, #34d399, #f97316);
                    "
                  ></div>
                </div>
              </div>
            </div>
          </div>

          <div class="glass p-6 rounded-xl reveal">
            <h4 class="font-semibold">Języki</h4>
            <div class="mt-4 space-y-4">
              <div>
                <div class="flex justify-between text-sm text-slate-300 mb-2">
                  <span>Polski</span><span>100%</span>
                </div>
                <div class="skill-bar">
                  <div
                    class="skill-fill"
                    data-width="100%"
                    style="
                      width: 0;
                      background: linear-gradient(90deg, #f472b6, #facc15);
                    "
                  ></div>
                </div>
              </div>
              <div>
                <div class="flex justify-between text-sm text-slate-300 mb-2">
                  <span>Angielski</span><span>85%</span>
                </div>
                <div class="skill-bar">
                  <div
                    class="skill-fill"
                    data-width="85%"
                    style="
                      width: 0;
                      background: linear-gradient(90deg, #8b5cf6, #06b6d4);
                    "
                  ></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="projects" class="py-12">
        <h3 class="text-2xl font-bold reveal">Wybrane projekty</h3>
        <div class="mt-6 grid md:grid-cols-3 gap-6">
          <article class="glass p-4 rounded-lg reveal">
            <h4 class="font-semibold">Infrastruktura HA</h4>
            <p class="text-sm text-slate-300 mt-2">
              ProxMox + Ceph, automatyzacja, backup i DR.
            </p>
          </article>
          <article class="glass p-4 rounded-lg reveal">
            <h4 class="font-semibold">Integracje ERP</h4>
            <p class="text-sm text-slate-300 mt-2">EDI, BI, ESB.</p>
          </article>
          <article class="glass p-4 rounded-lg reveal">
            <h4 class="font-semibold">Aplikacje produkcyjne</h4>
            <p class="text-sm text-slate-300 mt-2">
              Firebird, FastReport, CNC drivers.
            </p>
          </article>
        </div>
      </section>

      <section id="contact" class="py-12">
        <h3 class="text-2xl font-bold reveal">Kontakt</h3>
        <div class="mt-6 grid md:grid-cols-2 gap-6">
          <div class="glass p-6 rounded-xl reveal">
            <p class="text-slate-300">Masz projekt? Napisz.</p>
            <div class="mt-4">
              <div class="text-xs text-slate-400">Email</div>
              <a
                href="mailto:trojanowski.david@gmail.com"
                class="block font-medium"
                >trojanowski.david@gmail.com</a
              >
              <div class="text-xs text-slate-400 mt-2">Telefon</div>
              <a href="tel:+48508066905" class="block font-medium"
                >+48 508 066 905</a
              >
              <div class="mt-6 flex gap-2">
                <button
                  id="download-vcard"
                  class="px-3 py-2 rounded-md bg-gradient-to-r from-purple-600 to-pink-500"
                >
                  Pobierz vCard
                </button>
              </div>
            </div>
          </div>

          <form
            id="contact-form"
            class="glass p-6 rounded-xl reveal"
            onsubmit="return false;"
          >
            <label class="text-xs text-slate-400">Twój email</label>
            <input
              id="cf-email"
              type="email"
              required
              class="w-full mt-2 p-3 rounded-md bg-transparent border border-white/10"
              placeholder="twoj@email.com"
            />
            <label class="text-xs text-slate-400 mt-4 block">Wiadomość</label>
            <textarea
              id="cf-message"
              rows="5"
              class="w-full mt-2 p-3 rounded-md bg-transparent border border-white/10"
              placeholder="Opisz swój projekt..."
            ></textarea>
            <div class="mt-4 flex gap-3">
              <button
                id="cf-send"
                class="px-4 py-2 rounded-md bg-gradient-to-r from-purple-600 to-pink-500"
              >
                Wyślij
              </button>
              <button
                id="cf-download"
                class="px-4 py-2 rounded-md border border-white/10"
              >
                Pobierz wiadomość
              </button>
            </div>
            <div id="cf-msg" class="text-sm text-green-300 mt-3 hidden"></div>
          </form>
        </div>
      </section>

      <footer class="py-8 text-center text-slate-400">
        © Dawid Trojanowski — Bajery MAX ✨
      </footer>
    </main>

    <script>
            // --- preserved data ---
            const DATA = {email:'trojanowski.david@gmail.com',phone:'+48 508 066 905',keywords:['Cloud HA','ProxMox','Ceph','ERP','CNC','EDI']};

            // Theme toggle with localStorage
            const themeToggle = document.getElementById('theme-toggle');
            function applyTheme(t){document.body.setAttribute('data-theme', t); localStorage.setItem('site-theme', t)}
            const saved = localStorage.getItem('site-theme') || 'dark'; applyTheme(saved);
            themeToggle.addEventListener('click', ()=>{const current = document.body.getAttribute('data-theme'); applyTheme(current==='dark'?'light':'dark')});

            // Cursor followers
            const small = document.getElementById('cursor-small'); const big = document.getElementById('cursor-big');
            let mx=window.innerWidth/2,my=window.innerHeight/2,tx=mx,ty=my;
            window.addEventListener('mousemove', e=>{mx=e.clientX; my=e.clientY; small.style.transform = `translate(${mx}px,${my}px)`});
            (function lag(){tx += (mx - tx) * 0.08; ty += (my - ty) * 0.08; big.style.transform = `translate(${tx}px,${ty}px)`; requestAnimationFrame(lag)})();

            // Magnetic buttons
            document.querySelectorAll('.magnetic').forEach(btn=>{btn.addEventListener('mousemove', e=>{const r=btn.getBoundingClientRect();const dx=(e.clientX - (r.left + r.width/2))/8;const dy=(e.clientY - (r.top + r.height/2))/8;btn.style.transform = `translate(${dx}px,${dy}px)`});btn.addEventListener('mouseleave', ()=>btn.style.transform='translate(0,0)')});

            // Reveal on scroll and skill bars
            const reveals = document.querySelectorAll('.reveal'); const io = new IntersectionObserver((entries) => {entries.forEach(e=>{if(e.isIntersecting) e.target.classList.add('visible')})},{threshold:.12}); reveals.forEach(r=>io.observe(r));
            const skillObserver = new IntersectionObserver((entries)=>{entries.forEach(e=>{if(e.isIntersecting){e.target.querySelectorAll('.skill-fill').forEach(f=>f.style.width = f.dataset.width)}})},{threshold:.2}); document.querySelectorAll('#skills, .glass').forEach(n=>skillObserver.observe(n));

            // Contact form handlers
            document.getElementById('cf-send').addEventListener('click', ()=>{const email=document.getElementById('cf-email').value.trim(); const msg=document.getElementById('cf-message').value.trim(); if(!email||!msg){showCf('Wypełnij pola',false);return} window.location.href = `mailto:${DATA.email}?subject=${encodeURIComponent('Kontakt ze strony')}&body=${encodeURIComponent(msg+'

      From: '+email)}`});
            document.getElementById('cf-download').addEventListener('click', ()=>{const email=document.getElementById('cf-email').value.trim(); const msg=document.getElementById('cf-message').value.trim(); const blob=new Blob([`From: ${email}
      To: ${DATA.email}
      Subject: Kontakt ze strony

      ${msg}`],{type:'text/plain'}); const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='message.txt'; document.body.appendChild(a); a.click(); a.remove(); showCf('Pobrano',true)});
            function showCf(t,ok){const el=document.getElementById('cf-msg');el.textContent=t;el.style.color=ok?'#86efac':'#fca5a5';el.classList.remove('hidden');setTimeout(()=>el.classList.add('hidden'),3000)}

            // vCard
            document.getElementById('download-vcard').addEventListener('click', ()=>{const v=`BEGIN:VCARD
      VERSION:3.0
      FN:Dawid Trojanowski
      TEL;TYPE=CELL:${DATA.phone}
      EMAIL:${DATA.email}
      END:VCARD`; const b=new Blob([v],{type:'text/vcard'}); const a=document.createElement('a'); a.href=URL.createObjectURL(b); a.download='dawid_trojanowski.vcf'; document.body.appendChild(a); a.click(); a.remove();});

            // Lottie animation in hero
            (function(){const lottieContainer = document.getElementById('lottie-hero'); // using a neutral tech animation from LottieFiles CDN
              lottie.loadAnimation({container: lottieContainer, renderer:'svg', loop:true, autoplay:true, path:'https://assets9.lottiefiles.com/packages/lf20_jcikwtux.json'});
            })();

            // THREE.JS: rotating logo-like scene (torus + ring + glow) into #three-logo and large background
            (function(){
              // small logo module
              const mount = document.getElementById('three-logo');
              const scene = new THREE.Scene();
              const renderer = new THREE.WebGLRenderer({alpha:true, antialias:true}); renderer.setPixelRatio(window.devicePixelRatio); renderer.setSize(220,220); mount.appendChild(renderer.domElement);
              const camera = new THREE.PerspectiveCamera(40, 1, 0.1, 1000); camera.position.z = 120;
              // lights
              scene.add(new THREE.AmbientLight(0xffffff,0.6)); const p=new THREE.PointLight(0xff77cc,0.8); p.position.set(50,30,50); scene.add(p);
              // objects
              const geom = new THREE.TorusKnotGeometry(18,4,120,16); const mat = new THREE.MeshStandardMaterial({metalness:0.7,roughness:0.2,color:0x8b5cf6,emissive:0x2a0b2a,emissiveIntensity:0.25}); const mesh = new THREE.Mesh(geom,mat); scene.add(mesh);
              // outer ring
              const ringGeom = new THREE.RingGeometry(30,33,64); const ringMat = new THREE.MeshBasicMaterial({color:0xf472b6,side:THREE.DoubleSide,transparent:true,opacity:0.12}); const ring = new THREE.Mesh(ringGeom,ringMat); ring.rotation.x = Math.PI/2; ring.position.z=-10; scene.add(ring);
              function onResize(){renderer.setSize(220,220); camera.aspect = 1; camera.updateProjectionMatrix()} window.addEventListener('resize', onResize);
              let t=0; function anim(){t+=0.01; mesh.rotation.x = t*0.6; mesh.rotation.y = t*0.8; renderer.render(scene,camera); requestAnimationFrame(anim);} anim();

              // full-screen gentle points in #three-bg
              const canvasBg = document.getElementById('three-bg'); const rendBg = new THREE.WebGLRenderer({canvas:canvasBg,alpha:true}); rendBg.setPixelRatio(window.devicePixelRatio);
              const sceneBg = new THREE.Scene(); const camBg = new THREE.PerspectiveCamera(50,innerWidth/innerHeight,1,1000); camBg.position.z = 220; const geomBg = new THREE.BufferGeometry(); const count = 800; const positions = new Float32Array(count*3); for(let i=0;i<count*3;i+=3){positions[i]=(Math.random()-0.5)*1200; positions[i+1]=(Math.random()-0.5)*600; positions[i+2]=(Math.random()-0.5)*400} geomBg.setAttribute('position', new THREE.BufferAttribute(positions,3)); const matBg = new THREE.PointsMaterial({size:2.1,transparent:true,opacity:0.12,color:0xc58bff}); const pts = new THREE.Points(geomBg,matBg); sceneBg.add(pts);
              function resizeBg(){rendBg.setSize(innerWidth,innerHeight); camBg.aspect=innerWidth/innerHeight; camBg.updateProjectionMatrix()} window.addEventListener('resize', resizeBg); resizeBg(); let tt=0; function animBg(){tt+=0.002; pts.rotation.y = tt*0.4; pts.rotation.x = Math.sin(tt*0.4)*0.06; rendBg.render(sceneBg,camBg); requestAnimationFrame(animBg);} animBg();
            })();

            // Lottie note: if path fails due to CDN, it will fail silently

            // Download ZIP of the current page (HTML + placeholder CV)
            document.getElementById('download-zip').addEventListener('click', async ()=>{
              const zip = new JSZip();
              // get current HTML
              let html = '<!-- Generated single-file export of the site. Open index.html in a browser -->
      ' + document.documentElement.outerHTML;
              zip.file('index.html', html);
              const cvText = `Dawid Trojanowski

      Doświadczenie:
      - Cloud HA, ProxMox, Ceph
      - ERP, EDI, BI

      Kontakt:
      ${DATA.email} | ${DATA.phone}`;
              zip.file('CV.txt', cvText);
              const content = await zip.generateAsync({type:'blob'});
              saveAs(content, 'dawid-trojanowski-site.zip');
            });

            // CV download quick
            document.getElementById('cv-download').addEventListener('click', ()=>{const cv = `Dawid Trojanowski
      Email: ${DATA.email}
      Tel: ${DATA.phone}

      (Placeholder CV)`; const b=new Blob([cv],{type:'text/plain'}); saveAs(b,'CV-Dawid-Trojanowski.txt');});

            // quick handlers for contact/cv buttons
            document.getElementById('contact-btn').addEventListener('click', ()=>{location.href='#contact'});
            document.getElementById('cv-btn').addEventListener('click', ()=>{document.getElementById('cv-download').click()});

            // Accessibility: respect reduced motion
            if(matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelectorAll('#three-bg, #three-logo, .cursor-follower').forEach(n=>n.style.display='none')}
    </script>
  </body>
</html>
